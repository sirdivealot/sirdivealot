const fs   = require('fs')
const path = require('path')

delete require.cache[__filename]

module.exports = function (output, page, header, content) {
	const prologue = `
		<div class="container">
			<div class="content">
				<h1>${header}</h1>
				<span>Last updated ${fs.statSync(module.parent.filename).mtime.toUTCString()}</span>
		`
	const epilogue = `
		</div>
	</div>
	`

	require('partials/header')(output)
	output.write('<body>')
	require('partials/jumbo')(output)
	require('partials/nav')(output, page)
	output.write(prologue)
	output.write(content)
	output.write(epilogue)
	output.write(`<script src="/js/gallery.js"></script>`)
	output.write('</body>')
	require('partials/footer')(output)
}