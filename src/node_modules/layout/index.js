const fs   = require('fs')
const path = require('path')

delete require.cache[__filename]

module.exports = function (output, page, header, content) {
	const prologue = `
		<div class="container">
			<div class="content">
				<h1>${header}</h1>
				<span>Last updated ${fs.statSync(module.parent.filename).mtime.toUTCString()}</span>
		`
	const epilogue = `
		</div>
	</div>
	`

	output.write(require('partials/header')([]))
	output.write('<body>')
	output.write(require('partials/jumbo')())
	output.write(require('partials/nav')(page))
	output.write(prologue)
	output.write(content)
	output.write(epilogue)
	output.write('</body>')
	output.write(require('partials/footer')())
}